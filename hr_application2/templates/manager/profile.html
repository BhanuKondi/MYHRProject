{% extends "manager/manager_base.html" %}
{% block title %}My Profile{% endblock %}

{% block content %}
<h2>My Profile</h2>

<div class="card mb-4">
  <div class="card-body">

    <div class="row">
      <div class="col-md-4 text-center">
        <img src="{{ manager.profile_photo or url_for('static', filename='default_user.png') }}"
             class="img-thumbnail mb-3"
             style="width: 150px; height: 150px; object-fit: cover;">

        <h5>{{ manager.first_name }} {{ manager.last_name }}</h5>
        <p class="text-muted">{{ manager.job_title or "Manager" }}</p>
      </div>

      <div class="col-md-8">
        <table class="table">
          <tr>
            <th>Employee Code</th>
            <td>{{ manager.emp_code }}</td>
          </tr>
          <tr>
            <th>Email</th>
            <td>{{ manager.work_email }}</td>
          </tr>
          <tr>
            <th>Phone</th>
            <td>{{ manager.phone or '-' }}</td>
          </tr>
          <tr>
            <th>Address</th>
            <td>{{ manager.address or '-' }}</td>
          </tr>
        </table>
      </div>
    </div>

  </div>
</div>

<div class="card">
  <div class="card-body">
    <h4>Edit Profile</h4>

    <form method="post" action="{{ url_for('manager.profile_edit') }}">
      <div class="row">
        <div class="col-md-4 mb-3">
          <label class="form-label">Display Name</label>
          <input type="text" class="form-control" name="display_name"
                 value="{{ manager.first_name }}">
        </div>

        <div class="col-md-4 mb-3">
          <label class="form-label">Phone</label>
          <input type="text" class="form-control" name="phone"
                 value="{{ manager.phone }}">
        </div>

        <div class="col-md-4 mb-3">
          <label class="form-label">Address</label>
          <input type="text" class="form-control" name="address"
                 value="{{ manager.address }}">
        </div>
      </div>

      <button class="btn btn-primary">Save Changes</button>
    </form>
  </div>
</div>

{% endblock %}
